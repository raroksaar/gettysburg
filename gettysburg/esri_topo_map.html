<!DOCTYPE html>
<html>
<head>
<H2>
   <title>Gettysburg topographic map</title>
   	<div style="text-align: center;">
	Gettysburg area topographic map <br>
</H2>
<H3>
   	<div style="text-align: center;">
	<a href="https://library.nps.gov/gettysburg">Gettysburg visitor brochure</a>
</H3>
    </div>

   <meta charset="utf-8" />
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
   <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
   <script src="https://unpkg.com/esri-leaflet@2.5.3/dist/esri-leaflet.js"></script>
   


</head>
<body>
   <div id="map" style="height: 650px;"></div>
   <script>
       var map = L.map('map').setView([39.81169, -77.22599], 13);
       L.esri.basemapLayer('Topographic').addTo(map);
	   
	   const visitor_icon = L.icon({
			iconUrl: 'images/logo.png',
			iconSize: [25, 35],
			iconAnchor: [20, 25],
			popupAnchor: [0, 0]
	    });	

	const popup = L.popup();

	VisitorCentermarker = L.marker([39.81169, -77.22599],{icon: visitor_icon}).addTo(map); 
		VisitorCentermarker.bindPopup('Visitor Center');

	var googlelink = "";
	var coords = "";
	var link ="";
	var url ="";
	
      map.on('click', function(e) {
	     coords = e.latlng.toString().substring(7,e.latlng.toString().length-1);
		 url = 'https://www.google.com/maps/place/' + coords;
		 link = '<a href="' + url + '" >Google maps link</a>';
		 googlelink = coords + '<br>' + link;
		 coords = coords.replace(', ','~');
		 bingurl = 'https://www.bing.com/maps/search?cp=' + coords + '&lvl=15';
	     binglink = '<a href="' + bingurl + '" >Bing maps link</a>';

		
      });
	
	function onMapClick(e) {
		popup
			.setLatLng(e.latlng)
			.setContent(googlelink + '<br>' + binglink )
			.openOn(map)
	}

	map.on('click', onMapClick);
		
   </script>
</body>
</html>